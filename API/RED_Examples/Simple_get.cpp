//To get : g++ -o launch Simple_get.cpp -lcurl -std=c++11 -Wall && ./launch

////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
///////////////////////////////////////////////////////////////	 _____    _____   _____  ///////////////////////////////////////////////////////	
///////////////////////////////////////////////////////////////	|  _  \  | ____| |  _  \ ///////////////////////////////////////////////////////	
///////////////////////////////////////////////////////////////	| |_| |  | |__   | | | | ///////////////////////////////////////////////////////	
///////////////////////////////////////////////////////////////	|  _  /  |  __|  | | | | ///////////////////////////////////////////////////////	
///////////////////////////////////////////////////////////////	| | \ \  | |___  | |_| | ///////////////////////////////////////////////////////	
///////////////////////////////////////////////////////////////	|_|  \_\ |_____| |_____/ ///////////////////////////////////////////////////////	
///////////////////////////////////////////////////////////////	                         ///////////////////////////////////////////////////////	
////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

//To get datas from the red server you need to specifie the device Id the data type.


#include "../Red_librairies/Red.h"

#include <iostream>
#include <stdio.h>



int main(void)
{
	Red* red =new Red();
	string datas ;
	string data_type="Raspebbery temp" ;
	
	//red_config will return a red object with the Red server adress by default
	//Or you can set up your own server adress by using red->set_red_option(red,Red_Option::SET_HOST,"http://example.com");
	//Or you can set up after the default Red server adress if you don't want to pass by red_config using : red->set_red_option(red,Red_Option::SET_RED_HOST);
	red=red_config(); 

	//Name your own data type label such as apple or peach
	red->set_red_option(red,Red_Option::SET_DATA_TYPE,data_type);
	red->set_red_option(red,Red_Option::SET_CERTIFICATE,"RED-certifs/device4.pem");
	red->set_red_option(red,Red_Option::SET_PASSPHRASE,"E1127CC6A2");

	//You may want to display all the info about the red object before sending
	red->display();

	//Send it safely using post (return a std::string response indication)
	datas=red->set_red_option(red,Red_Option::GET_DATAS);
	cout<<datas<<endl;
}
